(function(){(function(){var m,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},p="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},ba=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");
},ca=ba(this),q=function(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&p(c,a,{configurable:!0,writable:!0,value:b})}};
q("Symbol",function(a){if(a)return a;var b=function(f,l){this.g=f;p(this,"description",{configurable:!0,writable:!0,value:l})};b.prototype.toString=function(){return this.g};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e});
q("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ca[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&p(d.prototype,a,{configurable:!0,writable:!0,value:function(){return da(aa(this))}})}return a});
var da=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a},r=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");},ea="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},t;
if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var u;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;u=ha.a;break a}catch(a){}u=!1}t=u?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var ia=t,v=function(a,b){a.prototype=ea(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.sa=b.prototype},w=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
q("WeakMap",function(a){function b(){}function c(h){var k=typeof h;return"object"===k&&null!==h||"function"===k}function d(h){if(!w(h,f)){var k=new b;p(h,f,{value:k})}}function e(h){var k=Object[h];k&&(Object[h]=function(n){if(n instanceof b)return n;Object.isExtensible(n)&&d(n);return k(n)})}if(function(){if(!a||!Object.seal)return!1;try{var h=Object.seal({}),k=Object.seal({}),n=new a([[h,2],[k,3]]);if(2!=n.get(h)||3!=n.get(k))return!1;n.delete(h);n.set(k,4);return!n.has(h)&&4==n.get(k)}catch(y){return!1}}())return a;
var f="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var l=0,g=function(h){this.g=(l+=Math.random()+1).toString();if(h){h=r(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}};g.prototype.set=function(h,k){if(!c(h))throw Error("Invalid WeakMap key");d(h);if(!w(h,f))throw Error("WeakMap key fail: "+h);h[f][this.g]=k;return this};g.prototype.get=function(h){return c(h)&&w(h,f)?h[f][this.g]:void 0};g.prototype.has=function(h){return c(h)&&w(h,f)&&w(h[f],this.g)};
g.prototype.delete=function(h){return c(h)&&w(h,f)&&w(h[f],this.g)?delete h[f][this.g]:!1};return g});
q("Map",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),h=new a(r([[g,"s"]]));if("s"!=h.get(g)||1!=h.size||h.get({x:4})||h.set({x:4},"t")!=h||2!=h.size)return!1;var k=h.entries(),n=k.next();if(n.done||n.value[0]!=g||"s"!=n.value[1])return!1;n=k.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!k.next().done?!1:!0}catch(y){return!1}}())return a;var b=new WeakMap,c=function(g){this[0]={};this[1]=
f();this.size=0;if(g){g=r(g);for(var h;!(h=g.next()).done;)h=h.value,this.set(h[0],h[1])}};c.prototype.set=function(g,h){g=0===g?0:g;var k=d(this,g);k.list||(k.list=this[0][k.id]=[]);k.s?k.s.value=h:(k.s={next:this[1],v:this[1].v,head:this[1],key:g,value:h},k.list.push(k.s),this[1].v.next=k.s,this[1].v=k.s,this.size++);return this};c.prototype.delete=function(g){g=d(this,g);return g.s&&g.list?(g.list.splice(g.index,1),g.list.length||delete this[0][g.id],g.s.v.next=g.s.next,g.s.next.v=g.s.v,g.s.head=
null,this.size--,!0):!1};c.prototype.clear=function(){this[0]={};this[1]=this[1].v=f();this.size=0};c.prototype.has=function(g){return!!d(this,g).s};c.prototype.get=function(g){return(g=d(this,g).s)&&g.value};c.prototype.entries=function(){return e(this,function(g){return[g.key,g.value]})};c.prototype.keys=function(){return e(this,function(g){return g.key})};c.prototype.values=function(){return e(this,function(g){return g.value})};c.prototype.forEach=function(g,h){for(var k=this.entries(),n;!(n=k.next()).done;)n=
n.value,g.call(h,n[1],n[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(g,h){var k=h&&typeof h;"object"==k||"function"==k?b.has(h)?k=b.get(h):(k=""+ ++l,b.set(h,k)):k="p_"+h;var n=g[0][k];if(n&&w(g[0],k))for(g=0;g<n.length;g++){var y=n[g];if(h!==h&&y.key!==y.key||h===y.key)return{id:k,list:n,index:g,s:y}}return{id:k,list:n,index:-1,s:void 0}},e=function(g,h){var k=g[1];return da(function(){if(k){for(;k.head!=g[1];)k=k.v;for(;k.next!=k.head;)return k=k.next,{done:!1,value:h(k)};
k=null}return{done:!0,value:void 0}})},f=function(){var g={};return g.v=g.next=g.head=g},l=0;return c});var ja=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};q("Array.prototype.keys",function(a){return a?a:function(){return ja(this,function(b){return b})}});
q("Array.prototype.values",function(a){return a?a:function(){return ja(this,function(b,c){return c})}});q("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(g){return g};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var l=0;!(f=b.next()).done;)e.push(c.call(d,f.value,l++))}else for(f=b.length,l=0;l<f;l++)e.push(c.call(d,b[l],l));return e}});
q("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});q("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
q("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var x=this||self,z=function(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"},ka=function(a){var b=z(a);return"array"==b||"object"==b&&"number"==typeof a.length},la=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ma=function(a,b){function c(){}c.prototype=b.prototype;a.sa=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var l=Array(arguments.length-2),g=2;g<arguments.length;g++)l[g-2]=arguments[g];return b.prototype[e].apply(d,
l)}};function A(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));void 0!==b&&(this.cause=b)}ma(A,Error);A.prototype.name="CustomError";function B(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");A.call(this,c+a[d])}ma(B,A);B.prototype.name="AssertionError";function C(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);throw new B(""+e,f||[]);}
var na=function(a,b,c){a||C("",null,b,Array.prototype.slice.call(arguments,2));return a},D=function(a,b,c){"number"!==typeof a&&C("Expected number but got %s: %s.",[z(a),a],b,Array.prototype.slice.call(arguments,2));return a},oa=function(a,b,c){"string"!==typeof a&&C("Expected string but got %s: %s.",[z(a),a],b,Array.prototype.slice.call(arguments,2))};var pa=Array.prototype.forEach?function(a,b){na(null!=a.length);Array.prototype.forEach.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)e in d&&b.call(void 0,d[e],e,a)};function qa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};function E(){var a=x.navigator;return a&&(a=a.userAgent)?a:""};try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};function ra(a,b){for(var c in a)b.call(void 0,a[c],c,a)};/*

 SPDX-License-Identifier: Apache-2.0
*/
var sa={};var F=function(a){if(sa!==sa)throw Error("Bad secret");this.g=a};F.prototype.toString=function(){return this.g};new F("about:blank");new F("about:invalid#zClosurez");var ta=[],ua=function(a){console.warn("A URL with content '"+a+"' was sanitized away.")};-1===ta.indexOf(ua)&&ta.push(ua);var va={},wa=function(){if(va!==va)throw Error("SafeStyle is not meant to be built directly");};wa.prototype.toString=function(){return"".toString()};new wa;var xa={},ya=function(){if(xa!==xa)throw Error("SafeStyleSheet is not meant to be built directly");};ya.prototype.toString=function(){return"".toString()};new ya;var za={},Aa=function(){var a=x.trustedTypes&&x.trustedTypes.emptyHTML||"";if(za!==za)throw Error("SafeHtml is not meant to be built directly");this.g=a};Aa.prototype.toString=function(){return this.g.toString()};new Aa;"ARTICLE SECTION NAV ASIDE H1 H2 H3 H4 H5 H6 HEADER FOOTER ADDRESS P HR PRE BLOCKQUOTE OL UL LH LI DL DT DD FIGURE FIGCAPTION MAIN DIV EM STRONG SMALL S CITE Q DFN ABBR RUBY RB RT RTC RP DATA TIME CODE VAR SAMP KBD SUB SUP I B U MARK BDI BDO SPAN BR WBR INS DEL PICTURE PARAM TRACK MAP TABLE CAPTION COLGROUP COL TBODY THEAD TFOOT TR TD TH SELECT DATALIST OPTGROUP OPTION OUTPUT PROGRESS METER FIELDSET LEGEND DETAILS SUMMARY MENU DIALOG SLOT CANVAS FONT CENTER ACRONYM BASEFONT BIG DIR HGROUP STRIKE TT".split(" ").concat(["BUTTON",
"INPUT"]);var G=function(a){var b=document;oa(a);b="string"===typeof a?b.getElementById(a):a;return na(b,"No element found with id: "+a)},Ca=function(a,b){ra(b,function(c,d){"style"==d?a.style.cssText=c:"class"==d?a.className=c:"for"==d?a.htmlFor=c:Ba.hasOwnProperty(d)?a.setAttribute(Ba[d],c):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,c):a[d]=c})},Ba={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",
nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},H=function(a,b,c){var d=arguments,e=document,f=d[1];var l=String(d[0]);l=String(l);"application/xhtml+xml"===e.contentType&&(l=l.toLowerCase());l=e.createElement(l);f&&("string"===typeof f?l.className=f:Array.isArray(f)?l.className=f.join(" "):Ca(l,f));2<d.length&&Da(e,l,d);return l},Da=function(a,b,c){function d(g){g&&b.appendChild("string"===typeof g?a.createTextNode(g):g)}for(var e=2;e<c.length;e++){var f=
c[e];if(!ka(f)||la(f)&&0<f.nodeType)d(f);else{a:{if(f&&"number"==typeof f.length){if(la(f)){var l="function"==typeof f.item||"string"==typeof f.item;break a}if("function"===typeof f){l="function"==typeof f.item;break a}}l=!1}pa(l?qa(f):f,d)}}};var I=function(){this.h=null;this.B=!1;this.g=H("VIDEO")};I.prototype.M=function(){};I.prototype.R=function(){};var Ea=function(a,b){a.o=b};m=I.prototype;m.K=function(){};m.show=function(){this.g.style.display="block"};m.N=function(){this.g.setAttribute("controls",!0)};m.L=function(){this.g.removeAttribute("controls")};m.S=function(){};var Fa=function(){this.type=this.format=null;this.g=this.l=this.m=this.i="";this.o=0;this.h={}};var J=function(){I.call(this);var a=this;this.g=G("hls-content")||H("VIDEO");this.l=new Hls({autoStartLoad:!1});this.g.addEventListener("seeked",function(){if("live"!=a.j)if(a.i)a.i=!1;else{var b=a.g.currentTime,c=a.h.previousCuePointForStreamTime(b);c&&!c.played&&(a.i=!0,a.m=b,a.g.currentTime=c.start)}});this.l.on(Hls.Events.FRAG_PARSING_METADATA,function(b,c){a.h&&c&&c.samples.forEach(function(d){a.h.processMetadata("ID3",d.data,d.pts)})})};v(J,I);
J.prototype.M=function(a,b){var c=this;this.j=b;this.l.once(Hls.Events.MEDIA_ATTACHED,function(){c.l.loadSource(a);c.l.once(Hls.Events.MANIFEST_PARSED,function(){c.o()})});this.l.attachMedia(this.g)};J.prototype.R=function(a){var b=0;a&&(b=this.h.streamTimeForContentTime(a),this.i=!0);this.l.startLoad(b);this.g.setAttribute("controls",!0);this.g.play()};J.prototype.K=function(){this.g.pause();this.g.src="";this.g.style.display="none"};
J.prototype.S=function(){console.log("HLS reset");this.g.pause();this.g.removeAttribute("src");this.l.detachMedia()};var K=function(){I.call(this);var a=this;this.g=G("hls-content")||H("VIDEO");this.g.addEventListener("loadedmetadata",function(){a.o()})};v(K,I);m=K.prototype;m.ra=function(a){var b=this,c=a.track;"metadata"===c.kind&&(c.mode="hidden",c.addEventListener("cuechange",function(){for(var d=r(c.activeCues),e=d.next();!e.done;e=d.next()){e=e.value;var f={};f[e.value.key]=e.value.data;b.h.onTimedMetadata(f)}}))};
m.ga=function(){if("live"!=this.j)if(this.i)this.i=!1;else{var a=this.g.currentTime,b=this.h.previousCuePointForStreamTime(a);b&&!b.played&&(this.i=!0,this.m=a,this.g.currentTime=b.start)}};m.M=function(a,b){this.j=b;this.g.src=a;this.g.onseeked=this.ga.bind(this);this.g.textTracks.onaddtrack=this.ra.bind(this)};m.R=function(a){a&&(a=this.h.streamTimeForContentTime(a),this.i=!0,this.g.currentTime=a);this.g.setAttribute("controls",!0);this.g.play()};
m.K=function(){this.g.src="";this.g.style.display="none"};m.S=function(){console.log("Native reset");this.g.pause();this.g.removeAttribute("src")};var L=G("play-button"),Ga=!1,M=!1,N=function(){I.call(this);var a=this;this.g=G("dash-content")||H("VIDEO");shaka.polyfill.installAll();this.l=new shaka.Player(this.g);this.l.addEventListener("emsg",function(b){a.h.onTimedMetadata({TXXX:b.detail.messageData})});this.l.addEventListener("timelineregionenter",function(b){a.h.onTimedMetadata({TXXX:b.detail.eventElement.attributes.messageData.nodeValue})});this.g.addEventListener("seeked",this.ha.bind(this))};v(N,I);m=N.prototype;
m.ha=function(){if("live"!=this.j)if(this.i)this.i=!1;else{var a=this.g.currentTime,b=this.h.previousCuePointForStreamTime(a);b&&!b.played&&(this.i=!0,this.m=a,this.g.currentTime=b.start)}};m.M=function(a,b){var c=this;this.j=b;"live"==this.j?this.L():this.N();this.l.load(a).then(function(){c.o()}).catch(function(d){console.log("Shaka Player error: "+d.code,d)})};
m.R=function(a){if(Ga&&"live"==this.j)M?(this.g.pause(),L.textContent="Play",M=!1):(this.g.play(),L.textContent="Pause",M=!0);else{var b=0;Ga=!0;a&&(b=this.h.streamTimeForContentTime(a),this.i=!0);this.g.currentTime=b;this.g.play();"live"==this.j&&(L.textContent="Pause",M=!0)}};m.K=function(){this.l.unload();this.g.style.display="none"};m.N=function(){"live"!=this.j&&this.g.setAttribute("controls",!0)};m.L=function(){this.g.removeAttribute("controls")};
m.S=function(){console.log("Shaka reset");this.g.pause();this.g.removeAttribute("src");this.l.unload()};var Ha=function(){this.h=this.l=this.g=this.j=this.i=null},Ia=function(a,b){a.l=b},Ja=function(a){a.h=new google.ima.dai.api.StreamManager(a.i.g,a.j);a.h.addEventListener([google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,google.ima.dai.api.StreamEvent.Type.ERROR,
google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.LOADED,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE],function(b){switch(b.type){case google.ima.dai.api.StreamEvent.Type.LOADED:a.i.M(b.getStreamData().url,a.g.type);break;case google.ima.dai.api.StreamEvent.Type.ERROR:a.i.M("http://storage.googleapis.com/testtopbox-public/video_content/bbb/master.m3u8",
"vod");break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:var c=a.i;c.B=!0;c.L();break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:c=a.i,c.B=!1,c.N(),c.m&&c.m>c.g.currentTime&&(c.g.currentTime=c.m,c.m=null)}a.l(b)})},Ka=function(a,b,c){a.i=b;a.g=c;a.h?a.h.reset():Ja(a);a.i.h=a.h;"live"==a.g.type?(b=new google.ima.dai.api.LiveStreamRequest,b.format=a.g.format,b.assetKey=a.g.i,b.apiKey=a.g.g,b.adTagParameters=a.g.h,b.omidAccessModeRules=a.g.j):(b=new google.ima.dai.api.VODStreamRequest,
b.format=a.g.format,b.contentSourceId=a.g.m,b.videoId=a.g.l,b.apiKey=a.g.g,b.adTagParameters=a.g.h,b.omidAccessModeRules=a.g.j);a.h.requestStream(b)};var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"),Ma=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var O=function(a){this.i=this.o=this.j="";this.u=null;this.m=this.h="";this.l=!1;var b;a instanceof O?(this.l=a.l,P(this,a.j),this.o=a.o,this.i=a.i,Na(this,a.u),this.h=a.h,Oa(this,Pa(a.g)),this.m=a.m):a&&(b=String(a).match(La))?(this.l=!1,P(this,b[1]||"",!0),this.o=Q(b[2]||""),this.i=Q(b[3]||"",!0),Na(this,b[4]),this.h=Q(b[5]||"",!0),Oa(this,b[6]||"",!0),this.m=Q(b[7]||"")):(this.l=!1,this.g=new R(null,this.l))};
O.prototype.toString=function(){var a=[],b=this.j;b&&a.push(S(b,Qa,!0),":");var c=this.i;if(c||"file"==b)a.push("//"),(b=this.o)&&a.push(S(b,Qa,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.u,null!=c&&a.push(":",String(c));if(c=this.h)this.i&&"/"!=c.charAt(0)&&a.push("/"),a.push(S(c,"/"==c.charAt(0)?Ra:Sa,!0));(c=this.g.toString())&&a.push("?",c);(c=this.m)&&a.push("#",S(c,Ta));return a.join("")};
O.prototype.resolve=function(a){var b=new O(this),c=!!a.j;c?P(b,a.j):c=!!a.o;c?b.o=a.o:c=!!a.i;c?b.i=a.i:c=null!=a.u;var d=a.h;if(c)Na(b,a.u);else if(c=!!a.h){if("/"!=d.charAt(0))if(this.i&&!this.h)d="/"+d;else{var e=b.h.lastIndexOf("/");-1!=e&&(d=b.h.slice(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],l=0;l<e.length;){var g=e[l++];"."==g?d&&l==e.length&&f.push(""):".."==g?((1<f.length||1==f.length&&""!=
f[0])&&f.pop(),d&&l==e.length&&f.push("")):(f.push(g),d=!0)}d=f.join("/")}else d=e}c?b.h=d:c=""!==a.g.toString();c?Oa(b,Pa(a.g)):c=!!a.m;c&&(b.m=a.m);return b};
var P=function(a,b,c){a.j=c?Q(b,!0):b;a.j&&(a.j=a.j.replace(/:$/,""))},Na=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.u=b}else a.u=null},Oa=function(a,b,c){b instanceof R?(a.g=b,Ua(a.g,a.l)):(c||(b=S(b,Va)),a.g=new R(b,a.l))},Q=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},S=function(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Wa),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Wa=function(a){a=
a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Qa=/[#\/\?@]/g,Sa=/[#\?:]/g,Ra=/[#\?]/g,Va=/[#\?@]/g,Ta=/#/g,R=function(a,b){this.h=this.g=null;this.i=a||null;this.j=!!b},T=function(a){a.g||(a.g=new Map,a.h=0,a.i&&Ma(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};R.prototype.add=function(a,b){T(this);this.i=null;a=U(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.h=D(this.h)+1;return this};
var Xa=function(a,b){T(a);b=U(a,b);a.g.has(b)&&(a.i=null,a.h=D(a.h)-a.g.get(b).length,a.g.delete(b))},Ya=function(a,b){T(a);b=U(a,b);return a.g.has(b)};R.prototype.forEach=function(a,b){T(this);this.g.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};var Za=function(a,b){T(a);var c=[];if("string"===typeof b)Ya(a,b)&&(c=c.concat(a.g.get(U(a,b))));else for(a=Array.from(a.g.values()),b=0;b<a.length;b++)c=c.concat(a[b]);return c};
R.prototype.set=function(a,b){T(this);this.i=null;a=U(this,a);Ya(this,a)&&(this.h=D(this.h)-this.g.get(a).length);this.g.set(a,[b]);this.h=D(this.h)+1;return this};R.prototype.get=function(a,b){if(!a)return b;a=Za(this,a);return 0<a.length?String(a[0]):b};
R.prototype.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],b=Array.from(this.g.keys()),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=Za(this,d);for(var f=0;f<d.length;f++){var l=e;""!==d[f]&&(l+="="+encodeURIComponent(String(d[f])));a.push(l)}}return this.i=a.join("&")};
var Pa=function(a){var b=new R;b.i=a.i;a.g&&(b.g=new Map(a.g),b.h=a.h);return b},U=function(a,b){b=String(b);a.j&&(b=b.toLowerCase());return b},Ua=function(a,b){b&&!a.j&&(T(a),a.i=null,a.g.forEach(function(c,d){var e=d.toLowerCase();d!=e&&(Xa(this,d),Xa(this,e),0<c.length&&(this.i=null,this.g.set(U(this,e),qa(c)),this.h=D(this.h)+c.length))},a));a.j=b};var db=function(a){var b=this;this.O=new Ha;this.i=$a(this);this.g=$a(this);this.H=G("live-radio");this.ja=G("sample-live-link");this.da=G("live-inputs");this.fa=G("vod-inputs");this.P=G("vod-radio");this.qa=G("sample-vod-link");this.F=G("asset-key");this.ca=G("live-api-key");this.C=G("cms-id");this.A=G("video-id");this.ea=G("vod-api-key");this.pa=G("stream-formats");this.D=G("hls-radio");this.T=G("dash-radio");this.V=G("sample-ad-tag-parameter");this.W=G("yes-include-ad-tag-parameters");this.ma=
G("no-include-ad-tag-parameters");this.l=G("ad-tag-parameters-container");this.Y=G("add-ad-tag-parameter-button");this.ka=G("template-ad-tag-parameter");this.X=G("yes-include-omsdk-rules");this.na=G("no-include-omsdk-rules");this.o=G("omsdk-rules-container");this.Z=G("add-omsdk-rule-button");this.la=G("template-omsdk-rule");this.j=G("ad-ui");this.I=G("load-button");this.u=G("play-button");this.h=G("bookmark-button");this.J=G("reset-button");this.aa=G("bookmark-wrapper");this.ia=G("bookmark-link-text");
this.G=G("console");this.U=a;this.oa=ab(this);bb(this,this.U);this.O.j=this.j;Ia(this.O,function(c){var d=c.type;d!=google.ima.dai.api.StreamEvent.Type.AD_PROGRESS&&b.log("Stream event: "+d);console.log("Stream event: "+d);switch(c.type){case google.ima.dai.api.StreamEvent.Type.ERROR:b.log("Stream error: "+c.getStreamData().errorMessage);break;case google.ima.dai.api.StreamEvent.Type.LOADED:b.log("Stream ID: "+c.getStreamData().streamId);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:b.j.style.display=
"block";break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:b.j.style.display="none"}});cb(this)},bb=function(a,b){if(b){var c=new O(b);b=c.g.get("streamType");var d=c.g.get("streamFormat"),e=c.g.get("assetKey"),f=c.g.get("apiKey"),l=c.g.get("cmsId");c=c.g.get("videoId");b&&("live"===b.toLowerCase()?(a.P.checked=!1,a.H.checked=!0,eb(a),f&&(a.ca.value=f)):"vod"===b.toLowerCase()&&(a.P.checked=!0,a.H.checked=!1,fb(a),f&&(a.ea.value=f)));d&&("hls"===d.toLowerCase()?(a.T.checked=!1,a.D.checked=
!0,gb(a)):"dash"===d.toLowerCase()&&(a.T.checked=!0,a.D.checked=!1,hb(a)));e&&(a.F.value=e);l&&(a.C.value=l);c&&(a.A.value=c)}},$a=function(a){if(!a.i){-1!=E().indexOf("iPhone")&&-1==E().indexOf("iPod")&&-1==E().indexOf("iPad")||-1!=E().indexOf("iPad")||-1!=E().indexOf("iPod")?a.i=new K:a.i=new J;var b=a.i.g;b.addEventListener("pause",function(){var c=a.i;c.B&&(c.N(),a.j.style.display="none")});b.addEventListener("play",function(){var c=a.i;c.B&&(c.L(),a.j.style.display="block")})}return a.i},ib=
function(a){if(!a.m){a.m=new N;var b=a.m.g;b.addEventListener("pause",function(){var c=a.m;c.B&&(c.N(),a.j.style.display="none")});b.addEventListener("play",function(){var c=a.m;c.B&&(c.L(),a.j.style.display="block")})}return a.m},ab=function(a){var b={};a=a.U.split("?")[1];if(!a)return b;a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]=decodeURIComponent(d[1])}return b},cb=function(a){a.H.addEventListener("click",function(){return eb(a)});a.P.addEventListener("click",function(){return fb(a)});
a.ja.addEventListener("click",function(){return jb(a)});a.qa.addEventListener("click",function(){return kb(a)});a.D.addEventListener("click",function(){return gb(a)});a.T.addEventListener("click",function(){return hb(a)});a.I.addEventListener("click",function(){return lb(a)});a.u.addEventListener("click",function(){a.g.R(mb(a))});a.h.addEventListener("click",function(){if(a.g.g.currentTime){var c=a.g;c=Math.floor(c.h.contentTimeForStreamTime(c.g.currentTime));c=a.U.split("?")[0]+"?bookmark="+c}else c=
"Error: could not get current time of video element, or current time is 0";a.ia.value=c;a.aa.style.display="block"});a.J.addEventListener("click",function(){a.I.removeAttribute("disabled");a.I.classList.remove("button-disabled");a.u.setAttribute("disabled",!0);a.u.classList.add("button-disabled");a.h.setAttribute("disabled",!0);a.h.classList.add("button-disabled");a.J.setAttribute("disabled",!0);a.J.classList.add("button-disabled");var c=a.O;c.h.reset();c.h=null;a.g.S()});a.W.addEventListener("change",
function(){return nb(a)});a.ma.addEventListener("change",function(){return nb(a)});a.Y.addEventListener("click",function(){return ob(a)});a.V.addEventListener("click",function(){document.querySelector(".ad-tag-parameters-choice").value="description_url";document.querySelector(".ad-tag-parameter-value").value="https://googleads.github.io/googleads-ima-html5-dai/vsi/"});var b=document.querySelector(".ad-tag-parameter");document.querySelector(".ad-tag-parameters-choice").addEventListener("input",function(){V(b)});
document.querySelector(".ad-tag-parameter-value").addEventListener("input",function(){V(b)});a.X.addEventListener("change",function(){return pb(a)});a.na.addEventListener("change",function(){return pb(a)});a.Z.addEventListener("click",function(){return qb(a)});a.pa.style.display="block"},eb=function(a){a.fa.style.display="none";a.da.style.display="block";W(a)},fb=function(a){a.da.style.display="none";a.fa.style.display="block";W(a)},W=function(a){a.j.style.display="none";a.u.setAttribute("disabled",
!0);a.u.classList.add("button-disabled");a.h.setAttribute("disabled",!0);a.h.classList.add("button-disabled")},jb=function(a){a.F.value=a.D.checked?"c-rArva4ShKVIAkNfy6HUQ":"PSzZMzAkSXCmlJOWDmRj8Q";eb(a)},kb=function(a){a.D.checked?(a.C.value="2528370",a.A.value="tears-of-steel"):(a.C.value="2559737",a.A.value="tos-dash");fb(a)},gb=function(a){a.H.removeAttribute("disabled");a.m&&a.m.K();W(a);a.P.checked&&"2559737"==a.C.value&&"tos-dash"==a.A.value?kb(a):"PSzZMzAkSXCmlJOWDmRj8Q"==a.F.value&&jb(a);
a.g=$a(a);a.g.show()},hb=function(a){a.i.K();W(a);"2528370"==a.C.value&&"tears-of-steel"==a.A.value?kb(a):"c-rArva4ShKVIAkNfy6HUQ"==a.F.value&&jb(a);a.g=ib(a);a.g.show()},nb=function(a){a.W.checked?(a.l.style.display="block",a.V.style.display="inline-block"):(a.l.style.display="none",a.V.style.display="none")},ob=function(a){var b=a.ka.content.cloneNode(!0),c=b.querySelector(".ad-tag-parameter-remove-button");a.l.appendChild(b);var d=a.l.querySelectorAll(".ad-tag-parameter:last-child")[0];d.querySelector(".ad-tag-parameters-choice").addEventListener("input",
function(){V(d)});d.querySelector(".ad-tag-parameter-value").addEventListener("input",function(){V(d)});a.l.appendChild(a.Y);c.addEventListener("click",function(){d.remove()})},V=function(a){var b=a.querySelector(".ad-tag-parameters-choice"),c=a.querySelector(".ad-tag-parameter-value");a=a.querySelector(".ad-tag-parameter-warning");"cust_params"!==b.value&&"description_url"!==b.value||!c.value.includes("%")?a.style.display="none":a.style.display="block"},rb=function(a){var b={},c=a.l.querySelectorAll(".ad-tag-parameter-value");
a.l.querySelectorAll(".ad-tag-parameters-choice").forEach(function(d,e){""!==c[e].value&&(b[d.value]=c[e].value)});console.log("AdTagParameters object:",b);return b},pb=function(a){a.X.checked?a.o.classList.remove("hidden"):a.o.classList.add("hidden")},qb=function(a){var b=a.la.content.cloneNode(!0),c=b.querySelector(".omsdk-setting-remove-button");a.o.appendChild(b);var d=a.o.querySelectorAll(".omsdk-rule:last-child")[0];a.o.appendChild(a.Z);c.addEventListener("click",function(){d.remove()})},sb=
function(a){var b={},c=a.o.querySelectorAll(".omsdk-verification-vendor-select"),d=a.o.querySelectorAll(".omsdk-access-mode-select");c.forEach(function(e,f){b[google.ima.dai.api.OmidVerificationVendor[c[f].value]]=google.ima.dai.api.OmidAccessMode[d[f].value]});return b},lb=function(a){a.I.setAttribute("disabled",!0);a.I.classList.add("button-disabled");a.J.removeAttribute("disabled");a.J.classList.remove("button-disabled");a.ba=tb(a);Ea(a.g,function(){"live"==a.ba.type?(a.h.setAttribute("disabled",
!0),a.h.classList.add("button-disabled"),a.aa.style.display="none"):(a.h.removeAttribute("disabled"),a.h.classList.remove("button-disabled"));a.u.removeAttribute("disabled");a.u.classList.remove("button-disabled")});Ka(a.O,a.g,a.ba);a.G.textContent=""},tb=function(a){var b=new Fa;b.format=a.D.checked?"hls":"dash";a.H.checked?(b.type="live",b.i=a.F.value,b.g=a.ca.value):(b.type="vod",b.m=a.C.value,b.l=a.A.value,b.g=a.ea.value,b.o=mb(a));a.W.checked&&(b.h=rb(a));a.X.checked&&(b.j=sb(a));return b},mb=
function(a){a=parseInt(a.oa.bookmark,10);return isNaN(a)?0:a};db.prototype.log=function(a){var b=document.createElement("span");b.innerText=a;this.G.appendChild(b);this.G.appendChild(document.createElement("br"));this.G.scrollTop=this.G.scrollHeight};var X=["Controller"],Y=x;X[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===db?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=db;}).call(this);
})();