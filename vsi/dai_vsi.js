(function(){(function(){var l,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},p=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},ba=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");
},ca=ba(this),q=function(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&p(c,a,{configurable:!0,writable:!0,value:b})}};
q("Symbol",function(a){if(a)return a;var b=function(h,m){this.g=h;p(this,"description",{configurable:!0,writable:!0,value:m})};b.prototype.toString=function(){return this.g};var c="jscomp_symbol_"+(Math.random()*1E9>>>0)+"_",d=0,e=function(h){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(h||"")+"_"+d++,h)};return e});
q("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ca[b[c]];typeof d==="function"&&typeof d.prototype[a]!="function"&&p(d.prototype,a,{configurable:!0,writable:!0,value:function(){return da(aa(this))}})}return a});
var da=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a},r=function(a){var b=typeof Symbol!="undefined"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length=="number")return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");},ea=typeof Object.create=="function"?Object.create:function(a){var b=function(){};b.prototype=a;return new b},t;
if(typeof Object.setPrototypeOf=="function")t=Object.setPrototypeOf;else{var u;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;u=ha.a;break a}catch(a){}u=!1}t=u?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var ia=t,v=function(a,b){a.prototype=ea(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if(c!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.sa=b.prototype},w=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
q("WeakMap",function(a){function b(){}function c(g){var k=typeof g;return k==="object"&&g!==null||k==="function"}function d(g){if(!w(g,h)){var k=new b;p(g,h,{value:k})}}function e(g){var k=Object[g];k&&(Object[g]=function(n){if(n instanceof b)return n;Object.isExtensible(n)&&d(n);return k(n)})}if(function(){if(!a||!Object.seal)return!1;try{var g=Object.seal({}),k=Object.seal({}),n=new a([[g,2],[k,3]]);if(n.get(g)!=2||n.get(k)!=3)return!1;n.delete(g);n.set(k,4);return!n.has(g)&&n.get(k)==4}catch(y){return!1}}())return a;
var h="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var m=0,f=function(g){this.g=(m+=Math.random()+1).toString();if(g){g=r(g);for(var k;!(k=g.next()).done;)k=k.value,this.set(k[0],k[1])}};f.prototype.set=function(g,k){if(!c(g))throw Error("Invalid WeakMap key");d(g);if(!w(g,h))throw Error("WeakMap key fail: "+g);g[h][this.g]=k;return this};f.prototype.get=function(g){return c(g)&&w(g,h)?g[h][this.g]:void 0};f.prototype.has=function(g){return c(g)&&w(g,h)&&w(g[h],this.g)};
f.prototype.delete=function(g){return c(g)&&w(g,h)&&w(g[h],this.g)?delete g[h][this.g]:!1};return f});
q("Map",function(a){if(function(){if(!a||typeof a!="function"||!a.prototype.entries||typeof Object.seal!="function")return!1;try{var f=Object.seal({x:4}),g=new a(r([[f,"s"]]));if(g.get(f)!="s"||g.size!=1||g.get({x:4})||g.set({x:4},"t")!=g||g.size!=2)return!1;var k=g.entries(),n=k.next();if(n.done||n.value[0]!=f||n.value[1]!="s")return!1;n=k.next();return n.done||n.value[0].x!=4||n.value[1]!="t"||!k.next().done?!1:!0}catch(y){return!1}}())return a;var b=new WeakMap,c=function(f){this[0]={};this[1]=
h();this.size=0;if(f){f=r(f);for(var g;!(g=f.next()).done;)g=g.value,this.set(g[0],g[1])}};c.prototype.set=function(f,g){f=f===0?0:f;var k=d(this,f);k.list||(k.list=this[0][k.id]=[]);k.s?k.s.value=g:(k.s={next:this[1],v:this[1].v,head:this[1],key:f,value:g},k.list.push(k.s),this[1].v.next=k.s,this[1].v=k.s,this.size++);return this};c.prototype.delete=function(f){f=d(this,f);return f.s&&f.list?(f.list.splice(f.index,1),f.list.length||delete this[0][f.id],f.s.v.next=f.s.next,f.s.next.v=f.s.v,f.s.head=
null,this.size--,!0):!1};c.prototype.clear=function(){this[0]={};this[1]=this[1].v=h();this.size=0};c.prototype.has=function(f){return!!d(this,f).s};c.prototype.get=function(f){return(f=d(this,f).s)&&f.value};c.prototype.entries=function(){return e(this,function(f){return[f.key,f.value]})};c.prototype.keys=function(){return e(this,function(f){return f.key})};c.prototype.values=function(){return e(this,function(f){return f.value})};c.prototype.forEach=function(f,g){for(var k=this.entries(),n;!(n=k.next()).done;)n=
n.value,f.call(g,n[1],n[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(f,g){var k=g&&typeof g;k=="object"||k=="function"?b.has(g)?k=b.get(g):(k=""+ ++m,b.set(g,k)):k="p_"+g;var n=f[0][k];if(n&&w(f[0],k))for(f=0;f<n.length;f++){var y=n[f];if(g!==g&&y.key!==y.key||g===y.key)return{id:k,list:n,index:f,s:y}}return{id:k,list:n,index:-1,s:void 0}},e=function(f,g){var k=f[1];return da(function(){if(k){for(;k.head!=f[1];)k=k.v;for(;k.next!=k.head;)return k=k.next,{done:!1,value:g(k)};
k=null}return{done:!0,value:void 0}})},h=function(){var f={};return f.v=f.next=f.head=f},m=0;return c});var ja=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var h=c++;return{value:b(h,a[h]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};q("Array.prototype.keys",function(a){return a?a:function(){return ja(this,function(b){return b})}});
q("Array.prototype.values",function(a){return a?a:function(){return ja(this,function(b,c){return c})}});q("Array.from",function(a){return a?a:function(b,c,d){c=c!=null?c:function(f){return f};var e=[],h=typeof Symbol!="undefined"&&Symbol.iterator&&b[Symbol.iterator];if(typeof h=="function"){b=h.call(b);for(var m=0;!(h=b.next()).done;)e.push(c.call(d,h.value,m++))}else for(h=b.length,m=0;m<h;m++)e.push(c.call(d,b[m],m));return e}});
q("Object.is",function(a){return a?a:function(b,c){return b===c?b!==0||1/b===1/c:b!==b&&c!==c}});q("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(c<0&&(c=Math.max(c+e,0));c<e;c++){var h=d[c];if(h===b||Object.is(h,b))return!0}return!1}});
q("String.prototype.includes",function(a){return a?a:function(b,c){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return(this+"").indexOf(b,c||0)!==-1}});/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var ka=this||self,la=function(a){var b=typeof a;return b!="object"?b:a?Array.isArray(a)?"array":b:"null"},ma=function(a,b){function c(){}c.prototype=b.prototype;a.sa=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,h){for(var m=Array(arguments.length-2),f=2;f<arguments.length;f++)m[f-2]=arguments[f];return b.prototype[e].apply(d,m)}};function x(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));b!==void 0&&(this.cause=b)}ma(x,Error);x.prototype.name="CustomError";function z(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");x.call(this,c+a[d])}ma(z,x);z.prototype.name="AssertionError";function A(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var h=d}else a&&(e+=": "+a,h=b);throw new z(""+e,h||[]);}
var na=function(a,b,c){a||A("",null,b,Array.prototype.slice.call(arguments,2));return a},B=function(a,b,c){typeof a!=="number"&&A("Expected number but got %s: %s.",[la(a),a],b,Array.prototype.slice.call(arguments,2));return a},oa=function(a,b,c){typeof a!=="string"&&A("Expected string but got %s: %s.",[la(a),a],b,Array.prototype.slice.call(arguments,2))};/*

 Copyright Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
var pa={};var C=function(a){if(pa!==pa)throw Error("Bad secret");this.g=a};C.prototype.toString=function(){return this.g};new C("about:blank");new C("about:invalid#zClosurez");var qa=[],ra=function(a){console.warn("A URL with content '"+a+"' was sanitized away.")};qa.indexOf(ra)===-1&&qa.push(ra);"ARTICLE SECTION NAV ASIDE H1 H2 H3 H4 H5 H6 HEADER FOOTER ADDRESS P HR PRE BLOCKQUOTE OL UL LH LI DL DT DD FIGURE FIGCAPTION MAIN DIV EM STRONG SMALL S CITE Q DFN ABBR RUBY RB RT RTC RP DATA TIME CODE VAR SAMP KBD SUB SUP I B U MARK BDI BDO SPAN BR WBR NOBR INS DEL PICTURE PARAM TRACK MAP TABLE CAPTION COLGROUP COL TBODY THEAD TFOOT TR TD TH SELECT DATALIST OPTGROUP OPTION OUTPUT PROGRESS METER FIELDSET LEGEND DETAILS SUMMARY MENU DIALOG SLOT CANVAS FONT CENTER ACRONYM BASEFONT BIG DIR HGROUP STRIKE TT".split(" ").concat(["BUTTON",
"INPUT"]);function D(){var a=ka.navigator;return a&&(a=a.userAgent)?a:""};var E=function(a){var b=document;oa(a);b=typeof a==="string"?b.getElementById(a):a;return na(b,"No element found with id: "+a)},F=function(){var a=document;var b="VIDEO";a.contentType==="application/xhtml+xml"&&(b=b.toLowerCase());return a.createElement(b)};var G=function(){this.h=null;this.B=!1;this.g=F()};G.prototype.M=function(){};G.prototype.R=function(){};var sa=function(a,b){a.o=b};l=G.prototype;l.K=function(){};l.show=function(){this.g.style.display="block"};l.N=function(){this.g.setAttribute("controls",!0)};l.L=function(){this.g.removeAttribute("controls")};l.S=function(){};var ta=function(){this.type=this.format=null;this.g=this.l=this.m=this.i="";this.o=0;this.h={}};var H=function(){G.call(this);var a=this;this.g=E("hls-content")||F();this.l=new Hls({autoStartLoad:!1});this.g.addEventListener("seeked",function(){if(a.j!="live")if(a.i)a.i=!1;else{var b=a.g.currentTime,c=a.h.previousCuePointForStreamTime(b);c&&!c.played&&(a.i=!0,a.m=b,a.g.currentTime=c.start)}});this.l.on(Hls.Events.FRAG_PARSING_METADATA,function(b,c){a.h&&c&&c.samples.forEach(function(d){a.h.processMetadata("ID3",d.data,d.pts)})})};v(H,G);
H.prototype.M=function(a,b){var c=this;this.j=b;this.l.once(Hls.Events.MEDIA_ATTACHED,function(){c.l.loadSource(a);c.l.once(Hls.Events.MANIFEST_PARSED,function(){c.o()})});this.l.attachMedia(this.g)};H.prototype.R=function(a){var b=0;a&&(b=this.h.streamTimeForContentTime(a),this.i=!0);this.l.startLoad(b);this.g.setAttribute("controls",!0);this.g.play()};H.prototype.K=function(){this.g.pause();this.g.src="";this.g.style.display="none"};
H.prototype.S=function(){console.log("HLS reset");this.g.pause();this.g.removeAttribute("src");this.l.detachMedia()};var I=function(){G.call(this);var a=this;this.g=E("hls-content")||F();this.g.addEventListener("loadedmetadata",function(){a.o()})};v(I,G);l=I.prototype;l.ra=function(a){var b=this,c=a.track;c.kind==="metadata"&&(c.mode="hidden",c.addEventListener("cuechange",function(){for(var d=r(c.activeCues),e=d.next();!e.done;e=d.next()){e=e.value;var h={};h[e.value.key]=e.value.data;b.h.onTimedMetadata(h)}}))};
l.ga=function(){if(this.j!="live")if(this.i)this.i=!1;else{var a=this.g.currentTime,b=this.h.previousCuePointForStreamTime(a);b&&!b.played&&(this.i=!0,this.m=a,this.g.currentTime=b.start)}};l.M=function(a,b){this.j=b;this.g.src=a;this.g.onseeked=this.ga.bind(this);this.g.textTracks.onaddtrack=this.ra.bind(this)};l.R=function(a){a&&(a=this.h.streamTimeForContentTime(a),this.i=!0,this.g.currentTime=a);this.g.setAttribute("controls",!0);this.g.play()};
l.K=function(){this.g.src="";this.g.style.display="none"};l.S=function(){console.log("Native reset");this.g.pause();this.g.removeAttribute("src")};var J=E("play-button"),ua=!1,K=!1,L=function(){G.call(this);var a=this;this.g=E("dash-content")||F();shaka.polyfill.installAll();this.l=new shaka.Player(this.g);this.l.addEventListener("emsg",function(b){a.h.onTimedMetadata({TXXX:b.detail.messageData})});this.l.addEventListener("timelineregionenter",function(b){a.h.onTimedMetadata({TXXX:b.detail.eventElement.attributes.messageData.nodeValue})});this.g.addEventListener("seeked",this.ha.bind(this))};v(L,G);l=L.prototype;
l.ha=function(){if(this.j!="live")if(this.i)this.i=!1;else{var a=this.g.currentTime,b=this.h.previousCuePointForStreamTime(a);b&&!b.played&&(this.i=!0,this.m=a,this.g.currentTime=b.start)}};l.M=function(a,b){var c=this;this.j=b;this.j=="live"?this.L():this.N();this.l.load(a).then(function(){c.o()}).catch(function(d){console.log("Shaka Player error: "+d.code,d)})};
l.R=function(a){if(ua&&this.j=="live")K?(this.g.pause(),J.textContent="Play",K=!1):(this.g.play(),J.textContent="Pause",K=!0);else{var b=0;ua=!0;a&&(b=this.h.streamTimeForContentTime(a),this.i=!0);this.g.currentTime=b;this.g.play();this.j=="live"&&(J.textContent="Pause",K=!0)}};l.K=function(){this.l.unload();this.g.style.display="none"};l.N=function(){this.j!="live"&&this.g.setAttribute("controls",!0)};l.L=function(){this.g.removeAttribute("controls")};
l.S=function(){console.log("Shaka reset");this.g.pause();this.g.removeAttribute("src");this.l.unload()};var va=function(){this.i=this.l=this.g=this.j=this.h=null},wa=function(a,b){a.l=b},xa=function(a){a.i=new google.ima.dai.api.StreamManager(a.h.g,a.j);a.i.addEventListener([google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,google.ima.dai.api.StreamEvent.Type.ERROR,
google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.LOADED,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE],function(b){switch(b.type){case google.ima.dai.api.StreamEvent.Type.LOADED:a.h.M(b.getStreamData().url,a.g.type);break;case google.ima.dai.api.StreamEvent.Type.ERROR:a.h.M("http://storage.googleapis.com/testtopbox-public/video_content/bbb/master.m3u8",
"vod");break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:var c=a.h;c.B=!0;c.L();break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:c=a.h,c.B=!1,c.N(),c.m&&c.m>c.g.currentTime&&(c.g.currentTime=c.m,c.m=null)}a.l(b)})},ya=function(a,b,c){a.h=b;a.g=c;a.i?a.i.reset():xa(a);a.h.h=a.i;a.g.type=="live"?(b=new google.ima.dai.api.LiveStreamRequest,b.format=a.g.format,b.assetKey=a.g.i,b.apiKey=a.g.g,b.adTagParameters=a.g.h,b.omidAccessModeRules=a.g.j):(b=new google.ima.dai.api.VODStreamRequest,
b.format=a.g.format,b.contentSourceId=a.g.m,b.videoId=a.g.l,b.apiKey=a.g.g,b.adTagParameters=a.g.h,b.omidAccessModeRules=a.g.j);a.i.requestStream(b)};var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"),Aa=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(d>=0){var h=a[c].substring(0,d);e=a[c].substring(d+1)}else h=a[c];b(h,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var M=function(a){this.i=this.o=this.j="";this.u=null;this.m=this.h="";this.l=!1;var b;a instanceof M?(this.l=a.l,N(this,a.j),this.o=a.o,this.i=a.i,O(this,a.u),this.h=a.h,P(this,Ba(a.g)),this.m=a.m):a&&(b=String(a).match(za))?(this.l=!1,N(this,b[1]||"",!0),this.o=Q(b[2]||""),this.i=Q(b[3]||"",!0),O(this,b[4]),this.h=Q(b[5]||"",!0),P(this,b[6]||"",!0),this.m=Q(b[7]||"")):(this.l=!1,this.g=new R(null,this.l))};
M.prototype.toString=function(){var a=[],b=this.j;b&&a.push(S(b,Ca,!0),":");var c=this.i;if(c||b=="file")a.push("//"),(b=this.o)&&a.push(S(b,Ca,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.u,c!=null&&a.push(":",String(c));if(c=this.h)this.i&&c.charAt(0)!="/"&&a.push("/"),a.push(S(c,c.charAt(0)=="/"?Da:Ea,!0));(c=this.g.toString())&&a.push("?",c);(c=this.m)&&a.push("#",S(c,Fa));return a.join("")};
M.prototype.resolve=function(a){var b=new M(this),c=!!a.j;c?N(b,a.j):c=!!a.o;c?b.o=a.o:c=!!a.i;c?b.i=a.i:c=a.u!=null;var d=a.h;if(c)O(b,a.u);else if(c=!!a.h){if(d.charAt(0)!="/")if(this.i&&!this.h)d="/"+d;else{var e=b.h.lastIndexOf("/");e!=-1&&(d=b.h.slice(0,e+1)+d)}e=d;if(e==".."||e==".")d="";else if(e.indexOf("./")!=-1||e.indexOf("/.")!=-1){d=e.lastIndexOf("/",0)==0;e=e.split("/");for(var h=[],m=0;m<e.length;){var f=e[m++];f=="."?d&&m==e.length&&h.push(""):f==".."?((h.length>1||h.length==1&&h[0]!=
"")&&h.pop(),d&&m==e.length&&h.push("")):(h.push(f),d=!0)}d=h.join("/")}else d=e}c?b.h=d:c=a.g.toString()!=="";c?P(b,Ba(a.g)):c=!!a.m;c&&(b.m=a.m);return b};
var N=function(a,b,c){a.j=c?Q(b,!0):b;a.j&&(a.j=a.j.replace(/:$/,""))},O=function(a,b){if(b){b=Number(b);if(isNaN(b)||b<0)throw Error("Bad port number "+b);a.u=b}else a.u=null},P=function(a,b,c){b instanceof R?(a.g=b,Ga(a.g,a.l)):(c||(b=S(b,Ha)),a.g=new R(b,a.l))},Q=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},S=function(a,b,c){return typeof a==="string"?(a=encodeURI(a).replace(b,Ia),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Ia=function(a){a=
a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Ca=/[#\/\?@]/g,Ea=/[#\?:]/g,Da=/[#\?]/g,Ha=/[#\?@]/g,Fa=/#/g,R=function(a,b){this.h=this.g=null;this.i=a||null;this.j=!!b},T=function(a){a.g||(a.g=new Map,a.h=0,a.i&&Aa(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};R.prototype.add=function(a,b){T(this);this.i=null;a=U(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.h=B(this.h)+1;return this};
var Ja=function(a,b){T(a);b=U(a,b);a.g.has(b)&&(a.i=null,a.h=B(a.h)-a.g.get(b).length,a.g.delete(b))},Ka=function(a,b){T(a);b=U(a,b);return a.g.has(b)};R.prototype.forEach=function(a,b){T(this);this.g.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};var La=function(a,b){T(a);var c=[];if(typeof b==="string")Ka(a,b)&&(c=c.concat(a.g.get(U(a,b))));else for(a=Array.from(a.g.values()),b=0;b<a.length;b++)c=c.concat(a[b]);return c};
R.prototype.set=function(a,b){T(this);this.i=null;a=U(this,a);Ka(this,a)&&(this.h=B(this.h)-this.g.get(a).length);this.g.set(a,[b]);this.h=B(this.h)+1;return this};R.prototype.get=function(a,b){if(!a)return b;a=La(this,a);return a.length>0?String(a[0]):b};
R.prototype.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],b=Array.from(this.g.keys()),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=La(this,d);for(var h=0;h<d.length;h++){var m=e;d[h]!==""&&(m+="="+encodeURIComponent(String(d[h])));a.push(m)}}return this.i=a.join("&")};
var Ba=function(a){var b=new R;b.i=a.i;a.g&&(b.g=new Map(a.g),b.h=a.h);return b},U=function(a,b){b=String(b);a.j&&(b=b.toLowerCase());return b},Ga=function(a,b){b&&!a.j&&(T(a),a.i=null,a.g.forEach(function(c,d){var e=d.toLowerCase();if(d!=e&&(Ja(this,d),Ja(this,e),c.length>0)){this.i=null;d=this.g;var h=d.set;e=U(this,e);var m=c.length;if(m>0){for(var f=Array(m),g=0;g<m;g++)f[g]=c[g];m=f}else m=[];h.call(d,e,m);this.h=B(this.h)+c.length}},a));a.j=b};var Ra=function(a){var b=this;this.O=new va;this.i=Ma(this);this.g=Ma(this);this.H=E("live-radio");this.ja=E("sample-live-link");this.da=E("live-inputs");this.fa=E("vod-inputs");this.P=E("vod-radio");this.qa=E("sample-vod-link");this.F=E("asset-key");this.ca=E("live-api-key");this.C=E("cms-id");this.A=E("video-id");this.ea=E("vod-api-key");this.pa=E("stream-formats");this.D=E("hls-radio");this.T=E("dash-radio");this.V=E("sample-ad-tag-parameter");this.W=E("yes-include-ad-tag-parameters");this.ma=
E("no-include-ad-tag-parameters");this.l=E("ad-tag-parameters-container");this.Y=E("add-ad-tag-parameter-button");this.ka=E("template-ad-tag-parameter");this.X=E("yes-include-omsdk-rules");this.na=E("no-include-omsdk-rules");this.o=E("omsdk-rules-container");this.Z=E("add-omsdk-rule-button");this.la=E("template-omsdk-rule");this.j=E("ad-ui");this.I=E("load-button");this.u=E("play-button");this.h=E("bookmark-button");this.J=E("reset-button");this.aa=E("bookmark-wrapper");this.ia=E("bookmark-link-text");
this.G=E("console");this.U=a;this.oa=Na(this);Oa(this,this.U);this.O.j=this.j;wa(this.O,function(c){return Pa(b,c)});Qa(this)},Oa=function(a,b){if(b){var c=new M(b);b=c.g.get("streamType");var d=c.g.get("streamFormat"),e=c.g.get("assetKey"),h=c.g.get("apiKey"),m=c.g.get("cmsId");c=c.g.get("videoId");b&&(b.toLowerCase()==="live"?(a.P.checked=!1,a.H.checked=!0,Sa(a),h&&(a.ca.value=h)):b.toLowerCase()==="vod"&&(a.P.checked=!0,a.H.checked=!1,Ta(a),h&&(a.ea.value=h)));d&&(d.toLowerCase()==="hls"?(a.T.checked=
!1,a.D.checked=!0,Ua(a)):d.toLowerCase()==="dash"&&(a.T.checked=!0,a.D.checked=!1,Va(a)));e&&(a.F.value=e);m&&(a.C.value=m);c&&(a.A.value=c)}},Ma=function(a){if(!a.i){D().indexOf("iPhone")!=-1&&D().indexOf("iPod")==-1&&D().indexOf("iPad")==-1||D().indexOf("iPad")!=-1||D().indexOf("iPod")!=-1?a.i=new I:a.i=new H;var b=a.i.g;b.addEventListener("pause",function(){var c=a.i;c.B&&(c.N(),a.j.style.display="none")});b.addEventListener("play",function(){var c=a.i;c.B&&(c.L(),a.j.style.display="block")})}return a.i},
Wa=function(a){if(!a.m){a.m=new L;var b=a.m.g;b.addEventListener("pause",function(){var c=a.m;c.B&&(c.N(),a.j.style.display="none")});b.addEventListener("play",function(){var c=a.m;c.B&&(c.L(),a.j.style.display="block")})}return a.m},Na=function(a){var b={};a=a.U.split("?")[1];if(!a)return b;a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]=decodeURIComponent(d[1])}return b},Qa=function(a){a.H.addEventListener("click",function(){return Sa(a)});a.P.addEventListener("click",function(){return Ta(a)});
a.ja.addEventListener("click",function(){return Xa(a)});a.qa.addEventListener("click",function(){return Ya(a)});a.D.addEventListener("click",function(){return Ua(a)});a.T.addEventListener("click",function(){return Va(a)});a.I.addEventListener("click",function(){return Za(a)});a.u.addEventListener("click",function(){a.g.R($a(a))});a.h.addEventListener("click",function(){if(a.g.g.currentTime){var c=a.g;c=Math.floor(c.h.contentTimeForStreamTime(c.g.currentTime));c=a.U.split("?")[0]+"?bookmark="+c}else c=
"Error: could not get current time of video element, or current time is 0";a.ia.value=c;a.aa.style.display="block"});a.J.addEventListener("click",function(){a.I.removeAttribute("disabled");a.I.classList.remove("button-disabled");a.u.setAttribute("disabled",!0);a.u.classList.add("button-disabled");a.h.setAttribute("disabled",!0);a.h.classList.add("button-disabled");a.J.setAttribute("disabled",!0);a.J.classList.add("button-disabled");a.O.i.reset();a.g.S()});a.W.addEventListener("change",function(){return ab(a)});
a.ma.addEventListener("change",function(){return ab(a)});a.Y.addEventListener("click",function(){return bb(a)});a.V.addEventListener("click",function(){document.querySelector(".ad-tag-parameters-choice").value="description_url";document.querySelector(".ad-tag-parameter-value").value="https://googleads.github.io/googleads-ima-html5-dai/vsi/"});var b=document.querySelector(".ad-tag-parameter");document.querySelector(".ad-tag-parameters-choice").addEventListener("input",function(){V(b)});document.querySelector(".ad-tag-parameter-value").addEventListener("input",
function(){V(b)});a.X.addEventListener("change",function(){return cb(a)});a.na.addEventListener("change",function(){return cb(a)});a.Z.addEventListener("click",function(){return db(a)});a.pa.style.display="block"},Sa=function(a){a.fa.style.display="none";a.da.style.display="block";W(a)},Ta=function(a){a.da.style.display="none";a.fa.style.display="block";W(a)},W=function(a){a.j.style.display="none";a.u.setAttribute("disabled",!0);a.u.classList.add("button-disabled");a.h.setAttribute("disabled",!0);
a.h.classList.add("button-disabled")},Xa=function(a){a.F.value=a.D.checked?"c-rArva4ShKVIAkNfy6HUQ":"PSzZMzAkSXCmlJOWDmRj8Q";Sa(a)},Ya=function(a){a.D.checked?(a.C.value="2548831",a.A.value="tears-of-steel"):(a.C.value="2559737",a.A.value="tos-dash");Ta(a)},Ua=function(a){a.H.removeAttribute("disabled");a.m&&a.m.K();W(a);a.P.checked&&a.C.value=="2559737"&&a.A.value=="tos-dash"?Ya(a):a.F.value=="PSzZMzAkSXCmlJOWDmRj8Q"&&Xa(a);a.g=Ma(a);a.g.show()},Va=function(a){a.i.K();W(a);a.C.value=="2548831"&&
a.A.value=="tears-of-steel"?Ya(a):a.F.value=="c-rArva4ShKVIAkNfy6HUQ"&&Xa(a);a.g=Wa(a);a.g.show()},ab=function(a){a.W.checked?(a.l.style.display="block",a.V.style.display="inline-block"):(a.l.style.display="none",a.V.style.display="none")},bb=function(a){var b=a.ka.content.cloneNode(!0),c=b.querySelector(".ad-tag-parameter-remove-button");a.l.appendChild(b);var d=a.l.querySelectorAll(".ad-tag-parameter:last-child")[0];d.querySelector(".ad-tag-parameters-choice").addEventListener("input",function(){V(d)});
d.querySelector(".ad-tag-parameter-value").addEventListener("input",function(){V(d)});a.l.appendChild(a.Y);c.addEventListener("click",function(){d.remove()})},V=function(a){var b=a.querySelector(".ad-tag-parameters-choice"),c=a.querySelector(".ad-tag-parameter-value");a=a.querySelector(".ad-tag-parameter-warning");b.value!=="cust_params"&&b.value!=="description_url"||!c.value.includes("%")?a.style.display="none":a.style.display="block"},eb=function(a){var b={},c=a.l.querySelectorAll(".ad-tag-parameter-value");
a.l.querySelectorAll(".ad-tag-parameters-choice").forEach(function(d,e){c[e].value!==""&&(b[d.value]=c[e].value)});console.log("AdTagParameters object:",b);return b},cb=function(a){a.X.checked?a.o.classList.remove("hidden"):a.o.classList.add("hidden")},db=function(a){var b=a.la.content.cloneNode(!0),c=b.querySelector(".omsdk-setting-remove-button");a.o.appendChild(b);var d=a.o.querySelectorAll(".omsdk-rule:last-child")[0];a.o.appendChild(a.Z);c.addEventListener("click",function(){d.remove()})},fb=
function(a){var b={},c=a.o.querySelectorAll(".omsdk-verification-vendor-select"),d=a.o.querySelectorAll(".omsdk-access-mode-select");c.forEach(function(e,h){b[google.ima.dai.api.OmidVerificationVendor[c[h].value]]=google.ima.dai.api.OmidAccessMode[d[h].value]});return b},Za=function(a){a.I.setAttribute("disabled",!0);a.I.classList.add("button-disabled");a.J.removeAttribute("disabled");a.J.classList.remove("button-disabled");a.ba=gb(a);sa(a.g,function(){a.ba.type=="live"?(a.h.setAttribute("disabled",
!0),a.h.classList.add("button-disabled"),a.aa.style.display="none"):(a.h.removeAttribute("disabled"),a.h.classList.remove("button-disabled"));a.u.removeAttribute("disabled");a.u.classList.remove("button-disabled")});ya(a.O,a.g,a.ba);a.G.textContent=""},gb=function(a){var b=new ta;b.format=a.D.checked?"hls":"dash";a.H.checked?(b.type="live",b.i=a.F.value,b.g=a.ca.value):(b.type="vod",b.m=a.C.value,b.l=a.A.value,b.g=a.ea.value,b.o=$a(a));a.W.checked&&(b.h=eb(a));a.X.checked&&(b.j=fb(a));return b},$a=
function(a){a=parseInt(a.oa.bookmark,10);return isNaN(a)?0:a},Pa=function(a,b){hb(a,b.type);switch(b.type){case google.ima.dai.api.StreamEvent.Type.ERROR:a.log("Stream error: "+b.getStreamData().errorMessage);break;case google.ima.dai.api.StreamEvent.Type.LOADED:a.log("Stream ID: "+b.getStreamData().streamId);break;case google.ima.dai.api.StreamEvent.Type.STARTED:b.getAd().getCompanionAds().forEach(function(c,d){a.log("Companion ad #"+(d+1)+" | Ad slot ID: "+c.getAdSlotId()+", content type: "+c.getContentType())});
break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:a.j.style.display="block";break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:a.j.style.display="none"}},hb=function(a,b){b!=google.ima.dai.api.StreamEvent.Type.AD_PROGRESS&&a.log("Stream event: "+b);console.log("Stream event: "+b)};Ra.prototype.log=function(a){var b=document.createElement("span");b.innerText=a;this.G.appendChild(b);this.G.appendChild(document.createElement("br"));this.G.scrollTop=this.G.scrollHeight};
var X=["Controller"],Y=ka;X[0]in Y||typeof Y.execScript=="undefined"||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||Ra===void 0?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Ra;}).call(this);
})();